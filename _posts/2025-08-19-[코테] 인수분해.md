---
layout: post
title: 인수분해
subtitle: 괄호로 많이 묶는게 빠를까?
categories: JAVA
tags: [JAVA]
---


![banner](/assets/images/0814/전개식코드)

괄호로 많이 묶는게 빠를까? 전개식으로 푸는게 더 빠를까?

### 1. 이론적 관점

괄호로 묶어서 공통 계산을 줄이는 방식 → 연산 횟수 최소화 → CPU 사이클 절약.

전개식 → 같은 부분을 여러 번 곱하거나 더해야 하므로 보통 느림.

예:

    // 괄호 활용
    int x = (a+b) * (c+d);   // a+b, c+d 각각 1번만 계산

    // 전개식
    int x = a*c + a*d + b*c + b*d;   // 곱 4번, 덧셈 3번

두 식은 결과가 같지만 연산 횟수는 다름.


### 2. 실제 실행 시

**컴파일러 최적화(O1~O3)**가 걸리면, 대부분의 언어(C, C++, Java, Python JIT 등)에서 자동으로 공통 부분식 제거(common subexpression elimination) 를 해줍니다.
→ 즉, (a+b)가 여러 번 반복되면 한 번만 계산해두도록 바꿔줌.

따라서 단순 수학식 수준에서는 괄호로 묶거나 전개하거나 속도 차이는 거의 없음.

### 3. 차이가 나는 경우

반복문 안에서 동일한 식을 계속 계산할 때:
전개식에서는 같은 연산을 반복할 위험 있음.
괄호로 묶어서 변수를 캐싱하면 확실히 빨라짐.

    for (...) {
        int t1 = a+b;
        int t2 = c+d;
        x = t1 * t2;   // 최적
    }


동적 언어(Python, JS): 컴파일러 최적화가 제한적이어서, 직접 묶어주는 게 훨씬 효율적.

GPU 연산(딥러닝, 병렬 연산): 곱셈/덧셈의 수가 전체 메모리 대역폭이나 병렬 스케줄링에 직접 영향을 줌 → 괄호 묶기(연산 최소화)가 유리.


### 4. 큰 수에 대한 시간복잡도

그래서 큰 수에 대한 부분을 시간으로 어떻게 계산하는게 맞을까?
![N과 시간제한의 관계](/assets/images/0819/0819-1.png)

---

참고자료 (문제)
